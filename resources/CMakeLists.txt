cmake_minimum_required(VERSION 3.10)

message(STATUS "=== Adding resources")

get_property(PLATFORM_RESOURCES_DIRECTORY GLOBAL PROPERTY GLOBAL_PLATFORM_RESOURCES_DIRECTORY)
get_property(COMMON_RESOURCES_DIRECTORY GLOBAL PROPERTY GLOBAL_COMMON_RESOURCES_DIRECTORY)
get_property(RESOURCES GLOBAL PROPERTY GLOBAL_RESOURCES)

set(PLATFORM_RESOURCES_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/${PLATFORM}")
set(COMMON_RESOURCES_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/common")

# explicit resources
if(UWP)
    # TODO: Add the custom ItemGroup and Target section to .proj file.
else()
    set(RESOURCES
        "${COMMON_RESOURCES_DIRECTORY}/textures/apple.png"
        "${COMMON_RESOURCES_DIRECTORY}/textures/coderox.png"
        "${COMMON_RESOURCES_DIRECTORY}/textures/gameover-background.png"
        "${COMMON_RESOURCES_DIRECTORY}/textures/gameover-text.png"
        "${COMMON_RESOURCES_DIRECTORY}/audio/score.wav"
    )
endif()

file(GLOB_RECURSE PLATFORM_RESOURCES
    ${PLATFORM_RESOURCES_DIRECTORY}/*
)

list(APPEND RESOURCES ${PLATFORM_RESOURCES})

set_property(GLOBAL PROPERTY GLOBAL_PLATFORM_RESOURCES_DIRECTORY ${PLATFORM_RESOURCES_DIRECTORY})
set_property(GLOBAL PROPERTY GLOBAL_COMMON_RESOURCES_DIRECTORY ${COMMON_RESOURCES_DIRECTORY})
set_property(GLOBAL PROPERTY GLOBAL_RESOURCES ${RESOURCES})
